---
import "../styles/global.css";
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>Stickit Avatar Creator</title>
	</head>
	<body>
		<!-- Floating Notification -->
		<div class="floating-notification">
			<div class="notification-content">
				<div class="notification-text">
					<span class="notification-icon">ðŸš€</span>
					<span>We started this project at the <strong>Nano Banana Hackathon</strong> and loved it so much we decided to continue! Check out the improved version here: <a href="https://stickersdochat.com/" target="_blank" rel="noopener noreferrer" class="notification-link">stickersdochat.com</a></span>
				</div>
				<button class="notification-close" onclick="this.parentElement.parentElement.style.display='none'">
					<svg width="16" height="16" viewBox="0 0 16 16" fill="none">
						<path d="M12 4L4 12M4 4L12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
					</svg>
				</button>
			</div>
		</div>
		<slot />
		<script>
			(function () {
				var USER_COOKIE_NAME = 'stickit-user';
				var hasCookie = document.cookie.split('; ').some(function (c) { return c.indexOf(USER_COOKIE_NAME + '=') === 0; });
				if (!hasCookie) {
					var value = (typeof crypto !== 'undefined' && typeof crypto.randomUUID === 'function')
						? crypto.randomUUID()
						: Math.random().toString(36).slice(2);
					var oneYearSeconds = 60 * 60 * 24 * 365;
					var isHttps = window.location.protocol === 'https:';
					var cookie = USER_COOKIE_NAME + '=' + encodeURIComponent(value)
						+ '; Path=/'
						+ '; Max-Age=' + oneYearSeconds
						+ (isHttps ? '; Secure' : '')
						+ '; SameSite=Lax';
					document.cookie = cookie;
				}
			})();
		</script>
	</body>
</html>

<style>
	html,
	body {
		margin: 0;
		width: 100%;
		height: 100%;
	}

	/* Floating Notification Styles */
	.floating-notification {
		position: fixed;
		top: 20px;
		left: 50%;
		transform: translateX(-50%);
		background: rgba(254, 243, 199, 0.85);
		border: 1px solid rgba(251, 191, 36, 0.2);
		border-radius: 20px;
		box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.2);
		z-index: 1000;
		max-width: 95%;
		width: 100%;
		max-width: 800px;
		backdrop-filter: blur(20px);
		animation: slideDown 0.5s ease-out;
		overflow: hidden;
	}

	@keyframes slideDown {
		from {
			opacity: 0;
			transform: translateX(-50%) translateY(-20px);
		}
		to {
			opacity: 1;
			transform: translateX(-50%) translateY(0);
		}
	}

	.notification-content {
		display: flex;
		align-items: center;
		justify-content: space-between;
		padding: 18px 24px;
		gap: 20px;
		position: relative;
	}

	.notification-content::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		height: 1px;
		background: linear-gradient(90deg, transparent, rgba(146, 64, 14, 0.2), transparent);
	}

	.notification-text {
		display: flex;
		align-items: center;
		gap: 12px;
		flex: 1;
		color: #92400e;
		font-size: 15px;
		line-height: 1.6;
		font-weight: 500;
	}

	.notification-icon {
		font-size: 20px;
		flex-shrink: 0;
		animation: bounce 2s infinite;
	}

	@keyframes bounce {
		0%, 20%, 50%, 80%, 100% {
			transform: translateY(0);
		}
		40% {
			transform: translateY(-3px);
		}
		60% {
			transform: translateY(-2px);
		}
	}

	.notification-link {
		color: #b45309;
		text-decoration: none;
		font-weight: 700;
		position: relative;
		transition: all 0.3s ease;
		padding: 2px 4px;
		border-radius: 4px;
	}

	.notification-link::after {
		content: '';
		position: absolute;
		bottom: 0;
		left: 0;
		width: 0;
		height: 2px;
		background: #b45309;
		transition: width 0.3s ease;
	}

	.notification-link:hover {
		color: #92400e;
		background: rgba(146, 64, 14, 0.1);
	}

	.notification-link:hover::after {
		width: 100%;
	}

	.notification-close {
		background: rgba(146, 64, 14, 0.15);
		border: 1px solid rgba(146, 64, 14, 0.2);
		cursor: pointer;
		padding: 8px;
		border-radius: 12px;
		color: #92400e;
		transition: all 0.3s ease;
		flex-shrink: 0;
		display: flex;
		align-items: center;
		justify-content: center;
		backdrop-filter: blur(10px);
	}

	.notification-close:hover {
		background: rgba(146, 64, 14, 0.25);
		border-color: rgba(146, 64, 14, 0.3);
		color: #78350f;
		transform: scale(1.05);
	}

	/* Responsive design */
	@media (max-width: 768px) {
		.floating-notification {
			top: 16px;
			left: 16px;
			right: 16px;
			transform: none;
			max-width: none;
		}

		.notification-content {
			padding: 14px 16px;
			flex-direction: column;
			align-items: flex-start;
			gap: 12px;
		}

		.notification-text {
			font-size: 13px;
		}

		.notification-close {
			align-self: flex-end;
		}
	}

	@media (max-width: 480px) {
		.floating-notification {
			top: 12px;
			left: 12px;
			right: 12px;
		}

		.notification-text {
			font-size: 12px;
		}
	}
</style>
